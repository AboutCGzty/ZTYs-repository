# 常用内置函数解析

[TOC]
------

## 一、基本运算符

基本运算符指的其实就是“加”、“减”、“乘”、“除”这四种最基本的运算逻辑，案例将使用以下示例代码作为模板进行解析：

```glsl
Shader "NewUnlitShader"
{
    SubShader
    {
        Tags { "RenderType" = "Opaque" }

        Pass
        {
            CGPROGRAM
            #pragma vertex vert
            #pragma fragment frag
            #include "UnityCG.cginc"

            struct appdata
            {
                float4 vertex : POSITION;
            };

            struct v2f
            {
                float4 vertex : SV_POSITION;
            };

            v2f vert(appdata v)
            {
                v2f o;
                o.vertex = UnityObjectToClipPos(v.vertex);
                return o;
            }

            float4 frag(v2f i) : SV_Target
            {
                return 1;
            }
            ENDCG
        }
    }
}
```

可以看到，上述示例代码非常干净。“顶点”着色器只计算了模型的顶点变换信息（因为这是必须的），而“片元”着色器只返回了一个纯白色“1”。

这里需要注意的是，通常一个“片元”着色器的类型为“float4”，也就是一个四维浮点数值。所以在返回结果时需要的同样是一个“float4”类型的值。至于这里只写“1”也能通过，是因为 Unity 会自动补足其余的分量。如果要写完整的话，那就应该是这样：

```glsl
float4 frag(v2f i) : SV_Target
{
    return float4(1, 1, 1, 1);
}
```



### 1.1、一维向量的基本运算

### 1.2、多维向量的基本运算

